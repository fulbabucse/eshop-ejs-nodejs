<%- include('../includes/head.ejs') %>

<body>
  <%- include('../includes/navbar.ejs') %>

  <main class="my-4 px-4 lg:px-20">
    <p class="text-center text-xl font-semibold text-gray-800">
      List of all Products
    </p>

    <% if(products.length > 0) { %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4">
      <% for (let product of products) { %>
      <div
        class="max-w-sm rounded overflow-hidden hover:shadow-2xl duration-700 transition-300 relative"
      >
        <p
          class="absolute grid place-items-center bg-purple-500 text-white rounded-full h-10 w-10 top-2 left-2 text-sm"
        >
          $<%= product.price %>
        </p>
        <figure class="h-[300px]">
          <img
            class="w-full h-full"
            src="<%= product.thumbnail_url %>"
            alt="<%= product.title %>"
          />
        </figure>
        <div class="px-4 py-4">
          <div class="font-semibold text-sm mb-2"><%= product.title %></div>
          <p class="text-gray-700 text-xs"><%= product.desc %></p>
        </div>
        <div class="px-6 pt-4 pb-2 flex justify-center gap-5 items-center">
          <a
            href="/products/<%= product._id %>"
            class="bg-gray-200 rounded px-3 py-1 text-sm font-semibold text-gray-700 mb-2"
            >Details</a
          >
          <%- include('../includes/add-to-Cart-button.ejs', {product}) %>
        </div>
      </div>
      <% } %>
    </div>
    <% } else { %>

    <h1 class="not__found_message">Not Product Found</h1>

    <% } %>
  </main>
</body>
